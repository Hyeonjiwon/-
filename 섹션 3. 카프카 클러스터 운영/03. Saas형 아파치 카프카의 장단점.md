#### SaaS로 카프카 클러스터를 운영할 경우 장점
**1. 인프라 관리의 효율화**
- 카프카 클러스터는 상용환경에서 최소 3대 이상의 서버로 운영
- 개발자 입장에서 3대 이상의 서버를 모니터링 해야한다는 점이 굉장히 큰 리소스 사용량이 될 수 있음 (broker 3 + zookeeper 3 = 총 6대 모니터링)
- SaaS를 사용하면 브로커가 올라가는 서버는 자동으로 관리되기 때문에 인프라 운영 관련 역할에서 자유로울 수 있음
- 브로커들 중 일부에 이슈가 발생하여 서버를 재시작하는 상황이 일어나더라도 카프카 운영자는 크게 신경 쓸 일이 없음 
  → SaaS 서비스가 이슈를 감지하여 이슈가 생긴 서버를 제외하고 신규 장비에 브로커를 실행하여 클러스터를 복구를 진행하기 때문이다. 
- 클러스터의 데이터 사용량이 순간적으로 많아지더라도 서비스를 제공하는 업체의 SaaS 대시보드에서 브로커 개수만 설정하면 쉽게 Scale In-Out 가능
  → 더 많은 양의 데이터를 소화할 수 있는 카프카 클러스터가 설정되어 안전하게 데이터 처리 가능

<br>

**2. 모니터링 대시보드 제공**
- Open Source Apache Kafka 클러스터 운영 시에는 대시보드가 제공되지 않음
- 브로커들이 제공하는 지표들을 수집, 적재, 대시보드화하여 데이터를 시각화해야 카프카 클러스터를 효과적으로 운영하기 위해 필요한 설정들을 수정하고 적용할 수 있음 → 노하우 필요
- 카프카 클러스터 설치 후, 어떤 지표들을 수집해야 할지 막막하고, 수집을 시작하고 나면 적재된 지표가 너무 많기 때문에 어떤 것이 중요한지 알아가는데 시간이 걸림
- SaaS형 카프카에서는 자동화되어 만들어진 클러스터로부터 운영에 필요한 지표들을 수집하고 그래프로 보여주는 옵션 제공

<br>

**3. 보안 설정**
- 보안이 설정 되지 앟은 클러스터의 경우 호스트와 포트 번호만으로 모든 토픽의 데이터를 가져갈 수 있음
- 어드민 API를 통해 카프카 클러스터에 악의적인 공격 가능
- 카프카 클러스터에 보안을 설정해야함 
- 카프카 브로커는 SSL, SASL, ACL과 같이 다양한 종류의 보안 설정 방안을 제공함
- 보안 설정 방안을 선택하는 것은 결코 쉬운 일이 아니다. (내부적인 이해 필요)
- SaaS형 카프카에서는 클러스터 접속 시 보안 설정을 기본으로 제공하고 있음
- 클러스터 생성 시 보안 설정을 통해 인가된 사용자만 카프카 클러스터에 접근할 수 있도록 할 수 있음
 
<br>

#### SaaS로 카프카 클러스터를 운영할 경우 단점
**1. 서비스 사용 비용**
- 카프카 클러스터를 직접 설치하고 운영한다면 브로커와 주키퍼를 실행하는 서버의 사용 비용만 들이면 된다. 
- 하지만 SaaS형 카프카를 사용시 업체에서 지정한 특정 요금제를 사용해야 함
- 서버만 발급해서 사용하는 비용보다 현저히 높음
- AWS MSK의 경우, 최소 3대의 브로커 인스턴스를 구성하더라도 시간당 1.5달러로 기본적으로 최소 한 달에 1,080달러(한화 약 120만원)의 비용이 발생
- 동일 사양의 인스턴스를 3대 직접 발급하여 설치, 운영하면 시간당 0.7달러로 한 달에 504달러(한화 약 60만원)의 비용 발생
- 인력적인 비용에 비해 장점이 있을지 고민 필요

<br>

**2. 커스텀마이징의 제한**
- 서버의 최적화 옵션이나 카프카 브로커 옵션과 같은 다양한 부분에서 사용자 설정이 들어감 
- SaaS 서비스들은 상세한 설정을 적용하거나 클러스터 아키텍처의 변화가 필요할 경우 적용하기 매우 어려움 
- (인프라 ~ 애플리케이션 설치 모든 부분이 자동화 + 업체에서 설정한 아키텍처를 따라가기 때문에)
- 특히 SaaS형 카프카에서는 멀티 클라우드나 하이브리드 클라우드 형태로 카프카 클러스터를 구성하는 것은 불가능
- SaaS를 사용하게 되면 종속성이 생김 
- 클라우드 종속성 탈피, 마이그레이션 목적으로 멀티 클라우드, 하이브리드 클라우드 형태의 클러스터로 구성해야 할 때 많은 제한이 있어 어려움

> 멀티 클라우드 : 2개 이상의 퍼블릭 클라우드를 함께 사용
> 하이브리드 클라우드 : 사내 서버, 퍼블릭 클라우드 함께 사용

<br> 

**3. 클라우드의 종속성**
- 서비스 업체를 선택하고 클러스터를 운영하는 순간 프로듀서, 컨슈머들을 포함한 클러스터와 관련된 모든 애플리케이션은 해당 서비스에 종속 됨 
- 한 업체에서 지속적으로 운영하지 못할 경우
  → 다양한 이슈 발생(카프카를 직접 운영하는 것으로 마이그레이션, 혹은 카프카를 그만 둠, 온프레미스로 다시 가져와야 할 수도)
- 멀티 클라우드, 하이브리드 클라우드 적용 불가능 -> 종속성 때문에 마이그레이션 할 때 굉장히 큰 이슈가 생김

<br>

**→ SaaS형 카프카를 도입할 경우 추후 발생 가능한 이슈를 예측한 후 서비스에 미치는 위험 정도를 고려한 뒤 도입해야 함**

<br>

**SaaS형 카프카를 사용하는 것이 더 나은 경우는?**
- 카프카 클러스터에 대한 운영 노하우가 부족한 상태에서 빠르게 클러스터 인프라를 구축하고 활용할 때
  → 다만, SaaS형 카프카도 설치하여 구성하는 클러스터이므로 세세한 운영 부분에 있어 어려움을 겪을 수 있음

<br>

**SaaS형 카프카를 도입할 때는 현재 인력의 카프카 클러스터 운영에 대한 이해의 깊이, 클러스터 구축 비용, 추후 운영상 이슈 등을 다각도로 검토해야 함**

<br>

> 출처
> [[아파치 카프카 애플리케이션 프로그래밍] 개념부터 컨슈머, 프로듀서, 커넥트, 스트림즈까지!](https://www.inflearn.com/course/%EC%95%84%ED%8C%8C%EC%B9%98-%EC%B9%B4%ED%94%84%EC%B9%B4-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/dashboard)
